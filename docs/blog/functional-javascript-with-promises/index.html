<!doctype html><html lang=en><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta http-equiv=x-ua-compatible content="ie=edge"><title>Functional JavaScript with promises | ericselin.dev</title><link href="https://fonts.googleapis.com/css?family=Fira+Code:300,700&display=swap" rel=stylesheet><link rel=stylesheet href=/style.css></head><body><header><a href=/>//eric</a><ul><li><a href=/blog/>Blog</a></li><li><a href=/experiments/>Experiments</a></li></ul></header><main><h1>Functional JavaScript with promises</h1><p>Functional programming is awesome. It makes code easy to reason about and easy to test. It promotes the use of good code structuring. Unfortunately for web developers, JavaScript is not functional. The <a href=https://github.com/tc39/proposal-pipeline-operator>pipeline operator proposal</a> would bring a little bit of functionality, but it is far from here.</p><h2 id=enter-promises>Enter Promises</h2><p>There is one very well supported language feature that can behave like a pipeline: Promises. Just pass in a value and chain some functions. Sounds like functional programming to me! Let&rsquo;s see an example:</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=color:#75715e>// functions
</span><span style=color:#75715e></span><span style=color:#66d9ef>const</span> <span style=color:#a6e22e>addOne</span> <span style=color:#f92672>=</span> (<span style=color:#a6e22e>num</span>) =&gt; <span style=color:#a6e22e>num</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>1</span>;
<span style=color:#66d9ef>const</span> <span style=color:#a6e22e>multiply</span> <span style=color:#f92672>=</span> (<span style=color:#a6e22e>factor</span>) =&gt; (<span style=color:#a6e22e>num</span>) =&gt; <span style=color:#a6e22e>num</span> <span style=color:#f92672>*</span> <span style=color:#a6e22e>factor</span>;

<span style=color:#75715e>// pipeline
</span><span style=color:#75715e></span><span style=color:#66d9ef>const</span> <span style=color:#a6e22e>result</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>await</span> Promise.<span style=color:#a6e22e>resolve</span>(<span style=color:#ae81ff>1</span>)
  .<span style=color:#a6e22e>then</span>(<span style=color:#a6e22e>addOne</span>)
  .<span style=color:#a6e22e>then</span>(<span style=color:#a6e22e>multiply</span>(<span style=color:#ae81ff>2</span>));

<span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>log</span>(<span style=color:#a6e22e>result</span>);
<span style=color:#75715e>// 4
</span></code></pre></div><p>Looks pretty good and works good as well! And as a bonus you get automatically resolving promises.</p></main><footer>There's no such thing as the cloud - it's just someone else's computer.</footer></body></html>